# HomeAssignment_1
Выполнил: Кузнецов Максим

Веб-версия доступна по ссылке: [https://play.unity.com/en/games/3dd93d33-0b83-42cb-877f-70831a1f4746/unitywebbuild](https://play.unity.com/en/games/3dd93d33-0b83-42cb-877f-70831a1f4746/unitywebbuild)

# Описание игры
В игре можно перемещаться между 5 позициями и временно ускоряться. Нужно уворачиваться от двух видов препятствий: стены (с ними нельзя сталкиваться) и шипы (снижают здоровье на 1). Когда здоровье достигает 0 (из 3), игра заканчивается и перезапускается.

# Техническое описание
Раннер реализован полностью в сцене Scenes/MainScene. В сцене присутсвуют следующие основные объекты:
- Player - Содержит коллайдер (и RigidBody) игрока, а также скрипт PlayerController, отвечающий за управление игроком и сохранение данных об игроке (хранит здоровье, описание движения, параметры ускорения, а также реализует движение и ускорение)
- GameManager - Синглтон, хранит и публикует ссылки на PlayerController и EnvironmentManager. Подсчитывает скорость игры (за исключением временного ускорения) с учетом постепенного ускорения и хранит переменную isPlaying, которая останавливает игру при установке в false. Перезапускает игру через некоторое время после того, как PlayerController сообщает о конце игры.
- Environment - Содержит скрипт EnvironmentManager, который контроллирует появление, движение и удаление прочих объектов помимо игрока. Другие скрипты создают объект через метод на этом скрипте, он автоматически двигается в сторону игрока (EnvironmentManager двигает все дочерние объекты) и удаляется, когда пересекает определенную прямую. Это создает иллюзию движения через бесконечное пространство без реального движения игрока, во избежание проблем с точностью координат и т.п.
- TreeSpawner - Содежит скрипт BackgroundSpawner, который обеспечивает добавление деревьев (фоновых объектов) с соответсвующими отступами от игрового поля и стабильной скоростью для поддержания примерной плотности расположения деревьев.
- TileSpawner - Содержит одноименный скрипт, который обеспечивает добавление тайлов на игровое поле с поддержанием указанного расстояния между ними (в зависимости от тайла нужное расстояние может отличаться). Тайлы выбираются случайно, а также в начале игры сразу добавляется несколько тайлов, чтобы игроку не нужно было ждать, пока он добежит до препятствий.

Тайлы реализованы в виде префабов. У каждого есть скрипт TileManager, который хранит расстояние до следующего тайла (для правильного спавна) и сдвигает тайл на случайную линию, если это применимо. Я не нашел применения для ScriptableObject в данном случае.

Внутри тайлов есть объекты с коллайдером и скриптом Obstacle, который снижает здоровье игрока в ответ на контакт с ним.

В проекте использовалось FOSS расширение [SaintsField](https://github.com/TylerTemp/SaintsField) для более удобного интерфейса в инспекторе.
